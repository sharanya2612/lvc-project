<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Virtual Class - Register</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/style2.css">
    <script>
        function validateForm(event) {
            event.preventDefault(); // Prevent the form from submitting

            // Get form data
            var name = document.forms["register"]["name"].value;
            var email = document.forms["register"]["email"].value;
            var gender = document.forms["register"]["gender"].value;
            var course = document.forms["register"]["courses"].value;
            var hobbiesChecked = false;
            var checkboxes = document.querySelectorAll('input[name^="chk"]:checked');
            let valid = true;

            // Clear previous errors and borders
            resetForm();

            // Validate Name
            if (name == "") {
                showError("name", "Name must be filled out");
                valid = false;
                return false;
            }

            // Validate Email
            if (email == "") {
                showError("email", "Email must be filled out");
                valid = false;
                return false;
            } else {
                // Validate Email Format using regex
                var emailPattern = /^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/;
                if (!email.match(emailPattern)) {
                    showError("email", "Please enter a valid email address");
                    valid = false;
                    return false;
                }
            }

            // Validate Gender
            if (gender == "") {
                alert("Please select your gender");
                valid = false;
                return false;
            }

            // Validate Course Selection
            if (course == "") {
                showError("courses", "Please select a course");
                valid = false;
                return false;
            }

            if (checkboxes.length === 0) {
                alert("Please select at least one hobby");
                valid = false;
            }

            // If everything is valid, submit the form (otherwise, prevent submission)
            if (valid) {
                window.location.href = "thanksreg.html"; // Redirect on success
            }
        }

        // Function to reset errors and remove red borders
        function resetForm() {
            var errorMessages = document.querySelectorAll(".error-message");
            var formElements = document.querySelectorAll(".form-control, .form-check-input, .form-select");
            errorMessages.forEach(function (msg) {
                msg.textContent = ""; // Clear error messages
            });
            formElements.forEach(function (element) {
                element.style.border = ''; // Remove red border
            });
        }

        // Function to show error messages
        function showError(field, message) {
            var errorMessageElement = document.getElementById(field + "-error");
            var inputElement = document.forms["register"][field];

            // Add a red border to the input field
            inputElement.style.border = "2px solid red";

            // Display the error message
            errorMessageElement.textContent = message;
        }
    </script>
</head>
<body>
    <div class="marquee-container">
        <div class="marquee-text">
            Apply Now for Scholarships and Boost Your Learning Journey!<a href="scholarship.html" target="frm1">Click here to know more</a>
        </div>
    </div>
    <header>
        <h1>Start your Learning Journey!!</h1>
    </header>

    <div class="container my-5" id="registrationContainer">
        <!-- Registration Form -->
        <form name="register" method="post" id="registrationForm" onsubmit="validateForm(event)" action="thanksreg.html">
            <div class="mb-3">
                <label for="name" class="form-label"><b>Name:<span> *</span></b></label>
                <input type="text" class="form-control" id="name" name="name" placeholder="Enter your name" onblur="validateForm(event)">
                <div id="name-error" class="error-message"></div>
            </div>

            <div class="mb-3">
                <label for="email" class="form-label"><b>Email:<span> *</span></b></label>
                <input type="text" class="form-control" id="email" name="email" placeholder="Enter your email" onblur="validateForm(event)">
                <div id="email-error" class="error-message"></div>
            </div>

            <div class="mb-3">
                <b>Gender:<span> *</span></b>
                <div class="form-check form-check-inline">
                    <input type="radio" class="form-check-input" id="male" name="gender" value="male">
                    <label class="form-check-label" for="male">Male</label>
                </div>
                <div class="form-check form-check-inline">
                    <input type="radio" class="form-check-input" id="female" name="gender" value="female">
                    <label class="form-check-label" for="female">Female</label>
                </div>
                <div id="gender-error" class="error-message"></div>
            </div>

            <div class="mb-3">
                <label for="courses" class="form-label"><b>Select Course:<span> *</span></b></label>
                <select name="courses" id="courses" class="form-select" onblur="validateForm(event)">
                    <option value="">-- Select Courses --</option>
                    <option value="1">Python</option>
                    <option value="2">Java</option>
                    <option value="3">C</option>
                    <option value="4">C++</option>
                    <option value="5">PHP</option>
                </select>
                <div id="courses-error" class="error-message"></div>
            </div>

            <div class="mb-3">
                <b>Your Hobbies:</b>
                <div class="form-check form-check-inline">
                    <input type="checkbox" class="form-check-input" id="music" name="chk1">
                    <label class="form-check-label" for="music">Music</label>
                </div>
                <div class="form-check form-check-inline">
                    <input type="checkbox" class="form-check-input" id="dance" name="chk2">
                    <label class="form-check-label" for="dance">Dance</label>
                </div>
                <div class="form-check form-check-inline">
                    <input type="checkbox" class="form-check-input" id="drawing" name="chk3">
                    <label class="form-check-label" for="drawing">Drawing</label>
                </div>
                <div class="form-check form-check-inline">
                    <input type="checkbox" class="form-check-input" id="writing" name="chk4">
                    <label class="form-check-label" for="writing">Writing</label>
                </div>
            </div>

            <div class="mb-3">
                <label for="ta1" class="form-label"><b>Remarks:</b></label>
                <textarea id="ta1" name="ta1" class="form-control" rows="5" placeholder="Add your remarks"></textarea>
            </div>

            <div class="mb-3">
                <input type="submit" name="Submit" value="Submit" class="btn btn-primary" data-bs-toggle="tooltip" data-bs-placement="top" title="Submit Form">
            </div>
        </form>
    </div>

</body>
</html>
